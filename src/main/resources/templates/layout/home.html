<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Shop Quần áo </title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <meta content="" name="description">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="shortcut icon" th:href="@{images/favicon.png}">
    <title>Welcome to FlatShop</title>
    <link rel="stylesheet" th:href="@{css/bootstrap.css}">
    <link
            href='http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,700,500italic,100italic,100'
            rel='stylesheet' type='text/css'>
    <link rel="stylesheet" th:href="@{css/font-awesome.min.css}">
    <link rel="stylesheet" th:href="@{css/home.css}" type="text/css"/>
    <link href="css/flexslider.css" media="screen" rel="stylesheet"
          type="text/css"/>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link media="all" rel="stylesheet" th:href="@{css/sequence-looptheme.css}"/>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]-->
</head>
<body id="home">
<div class="wrapper" th:id="done">
    <!-- Th:replace sẽ thay thế đoạn mã này bằng header.html trong layout.html -->
    <div th:replace="layout/header :: header"></div>
    <!-- Nội dung trang chính -->
    <main>
        <div class="clearfix"></div>
        <div class="hom-slider">
            <div class="container">
                <div id="sequence">
                    <div class="sequence-prev"><i class="fa fa-angle-left"></i></div>
                    <div class="sequence-next"><i class="fa fa-angle-right"></i></div>
                    <ul class="sequence-canvas">
                        <li class="animate-in">
                            <div class="flat-caption caption1 formLeft delay300 text-center"><span class="suphead">Paris show 2023</span>
                            </div>
                            <div class="flat-caption caption2 formLeft delay400 text-center">
                                <h1>Collection For Winter</h1>
                            </div>
                            <div class="flat-caption caption3 formLeft delay500 text-center">
                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.<br>Lorem
                                    Ipsum is simply dummy text of the printing and typesetting</p>
                            </div>
                            <div class="flat-button caption4 formLeft delay600 text-center"><a class="more" href="#">More
                                Details</a></div>
                            <div class="flat-image formBottom delay200" data-bottom="true" data-duration="5"><img
                                    alt="" src="images/slider-image-01.png"></div>
                        </li>
                        <li>
                            <div class="flat-caption caption2 formLeft delay400">
                                <h1>Collection For Winter</h1>
                            </div>
                            <div class="flat-caption caption3 formLeft delay500">
                                <h2>Etiam velit purus, luctus vitae velit sedauctor<br>egestas diam, Etiam velit purus.
                                </h2>
                            </div>
                            <div class="flat-button caption5 formLeft delay600"><a class="more" href="#">More
                                Details</a></div>
                            <div class="flat-image formBottom delay200" data-bottom="true"><img
                                    alt="" src="images/slider-image-02.png"></div>
                        </li>
                        <li>
                            <div class="flat-caption caption2 formLeft delay400 text-center">
                                <h1>New Fashion of 2023</h1>
                            </div>
                            <div class="flat-caption caption3 formLeft delay500 text-center">
                                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. <br>Lorem
                                    Ipsum is simply dummy text of the printing and typesetting</p>
                            </div>
                            <div class="flat-button caption4 formLeft delay600 text-center"><a class="more" href="#">More
                                Details</a></div>
                            <div class="flat-image formBottom delay200" data-bottom="true"><img
                                    alt="" src="images/slider-image-03.png"></div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="promotion-banner">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <div class="promo-box"><img alt="" src="images/promotion-01.png"></div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <div class="promo-box"><img alt="" src="images/promotion-02.png"></div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <div class="promo-box"><img alt="" src="images/promotion-03.png"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="container_fullwidth">
            <div class="container">
                <div class="our-brand">
                    <h3 class="title">Sản phẩm bán chạy</h3>
                    <div class="control">
                        <a class="prev" href="#" id="prev_brand">&lt;</a>
                        <a class="next" href="#" id="next_brand">&gt;</a>
                    </div>
                    <ul id="braldLogo">
                        <li th:each="sellPrd : ${sell}">
                            <ul class="brand_item">
                                <li style="display: grid ;grid-template-columns: repeat(4, 1fr);gap: 10px;width: 97%;">
                                    <div th:each="product : ${sellPrd} ">
                                        <div class="products">
                                            <div class="thumbnail">
                                                <div class="imgthumnail">
                                                    <a style="width: 176px" th:href="@{'/product/' + ${product.productID}}">
                                                        <img alt="Product Name"
                                                             th:src="@{'/getimage/' + ${product.categoryID} + '/' + ${product.img}}"></a>
                                                    <div class="colorProduct">
                                                        <span th:each="color : ${product.color}"
                                                              th:style="'--data-color:'+${color.colorhex}"
                                                        class="color-style"
                                                        ></span>
                                                    </div>
                                                </div>
                                                <div class="imgShow" >
                                                    <img th:each="imgprd : ${product.nameImg}" onclick="showProduct(this)" style="margin-bottom: 5px" alt="prd" th:src="@{'/getimage/' + ${product.categoryID} + '/' + ${imgprd}}" >
                                                </div>
                                            </div>
                                            <div class="priceAndName">
                                                <div class="productname" th:text="${product.name}"></div>
                                                <h4 class="price"
                                                    th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></h4>
                                            </div>
                                            <div class="button_group"><a
                                                    th:href="@{'/product/' + ${product.productID}}">
                                                <button class="button add-cart" type="button">Thêm vào giỏ hàng</button>
                                            </a>
                                               <!--  <button class="button compare" type="button"><i
                                                        class="fa fa-exchange"></i>
                                                </button>-->
                                                <button class="button wishlist" type="button"><i
                                                        class="fa fa-heart-o"></i>
                                                </button> 
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="our-brand">
                    <h3 class="title">Sản phẩm mới</h3>
                    <div class="control"><a class="prev" href="#" id="prev_brand1"><</a>
                        <a class="next" href="#" id="next_brand1">&gt;</a></div>
                    <ul id="braldLogo1">
                        <li th:each="prdnew : ${productNew}">
                            <ul class="brand_item">
                                <li style="display: grid ;grid-template-columns: repeat(4, 1fr);gap: 10px;width: 97%;">
                                    <div th:each="product : ${prdnew} ">
                                        <div class="products">
                                            <div class="thumbnail">
                                                <div class="imgthumnail">
                                                    <a style="width: 176px" th:href="@{'/product/' + ${product.productID}}">
                                                        <img alt="Product Name"
                                                             th:src="@{'/getimage/' + ${product.categoryID} + '/' + ${product.img}}"></a>
                                                    <div class="colorProduct">
                                                        <span th:each="color : ${product.color}"
                                                              th:style="'--data-color:'+${color.colorhex}"
                                                              class="color-style"
                                                        ></span>
                                                    </div>
                                                </div>
                                                <div class="imgShow">
                                                    <img th:each="imgprd : ${product.nameImg}" style="margin-bottom: 5px" alt="prd" onclick="showProduct(this)" th:src="@{'/getimage/' + ${product.categoryID} + '/' + ${imgprd}}" >
                                                </div>
                                            </div>
                                            <div class="priceAndName">
                                                <div class="productname" th:text="${product.name}"></div>
                                                <h4 class="price"
                                                    th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></h4>
                                            </div>
                                            <div class="button_group"><a
                                                    th:href="@{'/product/' + ${product.productID}}">
                                                <button class="button add-cart" type="button">Thêm vào giỏ hàng</button>
                                            </a>
                                               <!--  <button class="button compare" type="button"><i
                                                        class="fa fa-exchange"></i>
                                                </button>-->
                                                <button class="button wishlist" type="button"><i
                                                        class="fa fa-heart-o"></i>
                                                </button> 
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="hot-products">
                    <h3 class="title"> Sản phẩm<strong> Nam</strong></h3>
                    <ul id="MEN">
                        <li>
                            <div class="row">
                                <div class="col-md-3 col-sm-6" th:each="productM : ${productM}">
                                    <div class="products">
                                        <div class="thumbnail">
                                            <div class="imgthumnail">
                                                <a style="width: 176px" th:href="@{'/product/' + ${productM.productID}}">
                                                    <img alt="Product Name"
                                                         th:src="@{'/getimage/' + ${productM.categoryID} + '/' + ${productM.img}}"></a>
                                                <div class="colorProduct">
                                                        <span th:each="color : ${productM.color}"
                                                              th:style="'--data-color:'+${color.colorhex}"
                                                              class="color-style"
                                                        ></span>
                                                </div>
                                            </div>
                                            <div class="imgShow">
                                                <img th:each="imgprd : ${productM.nameImg}" style="margin-bottom: 5px" alt="prd" onclick="showProduct(this)" th:src="@{'/getimage/' + ${productM.categoryID} + '/' + ${imgprd}}" >
                                            </div>
                                        </div>
                                        <div class="priceAndName">
                                            <div class="productname" th:text="${productM.name}"></div>
                                            <h4 class="price"
                                                th:text="${#numbers.formatDecimal(productM.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></h4>
                                        </div>
                                        <div class="button_group"><a th:href="@{'/product/' + ${productM.productID}}">
                                            <button class="button add-cart" type="button">Thêm vào giỏ hàng</button>
                                        </a>
                                           <!--  <button class="button compare" type="button"><i class="fa fa-exchange"></i>
                                            </button>-->
                                            <button class="button wishlist" type="button"><i class="fa fa-heart-o"></i>
                                            </button> 
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="pager">
                    <li th:class="${currentPageM == 1 ? 'disabled' : ''}">
                        <a class="prev-page" href="#"
                           th:href="@{${currentPageM > 1} ? ${ '?pageM=' + (currentPageM -1)} : ''}">
                            <i class="fa fa-angle-left">
                            </i>
                        </a>
                    </li>
                    <li th:each="i : ${#numbers.sequence(1, totalPagesM)}"
                    >
                        <a th:class="${currentPageM == i ? 'active' : ''}" th:href="@{'?pageM=' +${i}}" th:text="${i}">

                        </a>
                    </li>
                    <li th:class="${currentPageM == totalPagesM ? 'disabled' : ''}">
                        <a class="next-page" href="#"
                           th:href="@{${currentPageM < totalPagesM} ? ${'?pageM=' + (currentPageM +1)} : ''}">
                            <i class="fa fa-angle-right">
                            </i>
                        </a>
                    </li>
                </div>
                <div class="clearfix"></div>
                <div class="featured-products">
                    <h3 class="title"> Sản phẩm<strong>Nữ </strong></h3>
                    <ul id="hot">
                        <li>
                            <div class="row">
                                <div class="col-md-3 col-sm-6" th:each="productW : ${productW}">
                                    <div class="products">
                                        <div class="thumbnail">
                                            <div class="imgthumnail">
                                                <a style="width: 176px" th:href="@{'/product/' + ${productW.productID}}">
                                                    <img alt="Product Name"
                                                         th:src="@{'/getimage/' + ${productW.categoryID} + '/' + ${productW.img}}"></a>
                                                <div class="colorProduct">
                                                        <span th:each="color : ${productW.color}"
                                                              th:style="'--data-color:'+${color.colorhex}"
                                                              class="color-style"
                                                        ></span>
                                                </div>
                                            </div>
                                            <div class="imgShow">
                                                <img th:each="imgprd : ${productW.nameImg}" style="margin-bottom: 5px" alt="prd" onclick="showProduct(this)" th:src="@{'/getimage/' + ${productW.categoryID} + '/' + ${imgprd}}" >
                                            </div>
                                        </div>
                                        <div class="priceAndName">
                                            <div class="productname" th:text="${productW.name}"></div>
                                            <h4 class="price"
                                                th:text="${#numbers.formatDecimal(productW.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></h4>
                                        </div>


                                        <div class="button_group"><a th:href="@{'/product/' + ${productW.productID}}">
                                            <button class="button add-cart" type="button">Thêm vào giỏ hàng</button>
                                        </a>
<!--                                             <button class="button compare" type="button"> </a><i
                                                    class="fa fa-exchange"></i></button> -->
                                            <button class="button wishlist" type="button"><i class="fa fa-heart-o"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="pager">
                    <li th:class="${currentPageW == 1 ? 'disabled' : ''}">
                        <a class="prev-page" href="#" onclick="handlepaying()"
                           th:href="@{${currentPageW > 1} ? ${'?pageW=' + (currentPageW -1)} : ''}">
                            <i class="fa fa-angle-left">
                            </i>
                        </a>
                    </li>
                    <li th:each="i : ${#numbers.sequence(1, totalPagesW)}">
                        <a onclick="handlepaying()" th:class="${currentPageW == i ? 'active' : ''}"
                           th:href="@{'?pageW=' +${i}}" th:text="${i}">
                        </a>
                    </li>
                    <li th:class="${currentPageW == totalPagesW ? 'disabled' : ''}">
                        <a class="next-page" href="men" onclick="handlepaying()"
                           th:href="@{${currentPageW < totalPagesW} ? ${'?pageW=' + (currentPageW +1)} : ''}">
                            <i class="fa fa-angle-right">
                            </i>
                        </a>
                    </li>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="clearfix"></div>
    </main>

    <!-- Th:replace sẽ thay thế đoạn mã này bằng footer.html trong layout.html -->
    <div th:replace="layout/footer :: footer"></div>

</div>

<!-- Bootstrap core JavaScript==================================================-->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="/js/home.js"></script>
<script th:src="@{js/jquery-1.10.2.min.js}" type="text/javascript"></script>
<script th:src="@{js/jquery.easing.1.3.js}" type="text/javascript"></script>
<script th:src="@{js/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{js/jquery.sequence-min.js}" type="text/javascript"></script>
<script th:src="@{js/jquery.carouFredSel-6.2.1-packed.js}"
        type="text/javascript"></script>
<script defer th:src="@{js/jquery.flexslider.js}"></script>
<script th:src="@{js/script.min.js}" type="text/javascript"></script>
<script>
    function addToCart(productID) {
        var endpoint = 'api/cart/update?productID=' + productID + '&quantity=1&isReplace=false';
        $.ajax({
            url: endpoint,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                $('#headerToTalPrice').text(numberWithDot(data.totalPrice));
                $('#headerToTalQuantity').text(data.totalQuantity);
                alert("Đã thêm")
            },
            error: function (data) {
                alert('Thêm mới thất bại');
            }
        })

        function numberWithDot(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' ₫';
        }
    }
</script>
<script>
    window.onload = () => {
        location.href.includes("pageW") && window.scrollBy(0, 2139.5556640625);
        location.href.includes("pageM") && window.scrollBy(0, 1584);

    }

</script>
</body>
</html>